{"version":3,"sources":["webpack:///src/views/person/personCount/modulePage/friendCount/friendCount.vue","webpack:///./src/views/person/personCount/modulePage/friendCount/friendCount.vue?3da3","webpack:///./src/views/person/personCount/modulePage/friendCount/friendCount.vue"],"names":["friendCount","name","data","myDiagram","mounted","this","init","methods","_this","window","goSamples","$","go","GraphObject","make","Diagram","maxSelectionCount","validCycle","CycleDestinationTree","clickCreatingTool.insertPart","loc","node","ClickCreatingTool","prototype","insertPart","call","diagram","select","commandHandler","scrollToPart","editTextBlock","findObject","layout","TreeLayout","treeStyle","StyleLastParents","arrangement","ArrangementHorizontal","angle","layerSpacing","alternateAngle","alternateLayerSpacing","alternateAlignment","AlignmentBus","alternateNodeSpacing","undoManager.isEnabled","addDiagramListener","e","button","document","getElementById","disabled","isModified","idx","title","indexOf","substr","part","subject","first","startTransaction","Node","it","findTreeChildrenNodes","next","bossText","value","text","Link","toNode","commitTransaction","levelColors","commitNodes","network","vertexes","each","v","level","length","color","shape","stroke","Brush","0","1","lightenBy","start","Spot","Left","end","Right","mayWorkFor","node1","node2","isInTreeOf","nodeTemplate","doubleClick","obj","clicked","thisemp","newemp","orgName","relation","parent","key","model","addNodeData","mouseDragEnter","prev","selection","_prevFill","fill","mouseDragLeave","mouseDrop","selnode","link","findTreeParentLink","fromNode","toolManager","linkingTool","insertLink","port","Binding","sel","ofObject","Shape","strokeWidth","portId","fromLinkable","toLinkable","cursor","Panel","margin","Margin","defaultAlignment","TextBlock","font","row","column","editable","isMultiline","makeTwoWay","contextMenu","click","adornedPart","setDataProperty","chl","emp","setParentKeyForNodeData","findTreeParentNode","removeNodeData","removeParts","findTreeParts","linkTemplate","Orthogonal","corner","relinkableFrom","relinkableTo","loadGo","Inspector","myInspector","properties","readOnly","comments","save","toJson","Model","fromJson","lastkey","makeUniqueKeyFunction","k","findNodeDataForKey","friendCount_friendCount","render","_vm","_h","$createElement","_c","_self","attrs","id","staticStyle","background-color","border","height","_v","_m","on","$event","width","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.289357d233e35d359e9e.js","sourcesContent":["<template>\r\n  <div id=\"sample\">\r\n    <div\r\n      id=\"myDiagramDiv\"\r\n      style=\"background-color: #34343C; border: solid 1px black; height: 570px;\"\r\n    ></div>\r\n    \r\n    <div>\r\n      <div id=\"myInspector\"></div>\r\n    </div>\r\n    \r\n    <div>\r\n      <div>\r\n        <button id=\"SaveButton\" @click=\"save()\">Save</button>\r\n        <button @click=\"loadGo()\">Load</button>\r\n      </div>\r\n      <textarea id=\"mySavedModel\" style=\"width:100%; height:270px;\">\r\n        { \r\n          \"class\": \"go.TreeModel\",\r\n          \"nodeDataArray\": [\r\n            {\"key\":1, \"name\":\"庆帝\", \"title\":\"主题圈\", \"orgName\":\"庆国\", \"level\":\"皇帝\", \"relation\": \"庆国一哥\"},\r\n            {\"key\":2, \"name\":\"范闲\", \"title\":\"朋友圈\", \"parent\":1, \"orgName\":\"检察院\", \"level\":\"提司\", \"relation\": \"儿子\"},\r\n            {\"key\":3, \"name\":\"范思哲\", \"title\":\"亲戚圈\", \"parent\":2, \"orgName\":\"林家大院\", \"level\":\"搞笑担当\", \"relation\": \"傻弟弟\"},\r\n            {\"key\":4, \"name\":\"范若若\", \"title\":\"朋友圈\", \"parent\":1, \"orgName\":\"林家大院\", \"level\":\"颜值担当\", \"relation\": \"妹妹\"},\r\n            {\"key\":5, \"name\":\"腾子荆\", \"title\":\"朋友圈\", \"parent\":4, \"orgName\":\"检察院\", \"level\":\"护卫\", \"relation\": \"同事\"},\r\n            {\"key\":6, \"name\":\"林宛儿\", \"title\":\"同事圈\", \"parent\":2, \"orgName\":\"丞相府\", \"level\":\"大小姐\", \"relation\": \"妻子\"}\r\n          ]\r\n        }\r\n      </textarea>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// http://www.mamicode.com/info-detail-2244228.html\r\nexport default {\r\n  name: \"friendCount\",\r\n  data(){\r\n    return {\r\n      myDiagram: null,\r\n    }\r\n  },\r\n  mounted(){\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      \r\n      if (window.goSamples) goSamples();  // init for these samples -- you don't need to call this\r\n      var $ = go.GraphObject.make;  // for conciseness in defining templates\r\n\r\n      this.myDiagram =\r\n        $(go.Diagram, \"myDiagramDiv\", // must be the ID or reference to div\r\n          {\r\n            maxSelectionCount: 1, // users can select only one part at a time\r\n            validCycle: go.Diagram.CycleDestinationTree, // make sure users can only create trees\r\n            // \"clickCreatingTool.archetypeNodeData\": { // allow double-click in background to create a new node\r\n            //   name: \"(new person)\",\r\n            //   title: \"\",\r\n            // },\r\n            \"clickCreatingTool.insertPart\": function(loc) {  // scroll to the new node\r\n              var node = go.ClickCreatingTool.prototype.insertPart.call(this, loc);\r\n              if (node !== null) {\r\n                this.diagram.select(node);\r\n                this.diagram.commandHandler.scrollToPart(node);\r\n                this.diagram.commandHandler.editTextBlock(node.findObject(\"NAMETB\"));\r\n              }\r\n              return node;\r\n            },\r\n            layout:\r\n              $(go.TreeLayout,\r\n                {\r\n                  treeStyle: go.TreeLayout.StyleLastParents,\r\n                  arrangement: go.TreeLayout.ArrangementHorizontal,\r\n                  // properties for most of the tree:\r\n                  angle: 90,\r\n                  layerSpacing: 35,\r\n                  // properties for the \"last parents\":\r\n                  alternateAngle: 90,\r\n                  alternateLayerSpacing: 35,\r\n                  alternateAlignment: go.TreeLayout.AlignmentBus,\r\n                  alternateNodeSpacing: 20\r\n                }),\r\n            \"undoManager.isEnabled\": true // enable undo & redo\r\n          });\r\n\r\n      // when the document is modified, add a \"*\" to the title and enable the \"Save\" button\r\n      this.myDiagram.addDiagramListener(\"Modified\", (e) => {\r\n        var button = document.getElementById(\"SaveButton\");\r\n        if (button) button.disabled = !this.myDiagram.isModified;\r\n        var idx = document.title.indexOf(\"*\");\r\n        if (this.myDiagram.isModified) {\r\n          if (idx < 0) document.title += \"*\";\r\n        } else {\r\n          if (idx >= 0) document.title = document.title.substr(0, idx);\r\n        }\r\n      });\r\n\r\n      // manage boss info manually when a node or link is deleted from the diagram\r\n      this.myDiagram.addDiagramListener(\"SelectionDeleting\", (e) => {\r\n        var part = e.subject.first(); // e.subject is the this.myDiagram.selection collection,\r\n        // so we'll get the first since we know we only have one selection\r\n        this.myDiagram.startTransaction(\"clear boss\");\r\n        if (part instanceof go.Node) {\r\n          var it = part.findTreeChildrenNodes(); // find all child nodes\r\n          while (it.next()) { // now iterate through them and clear out the boss information\r\n            var child = it.value;\r\n            var bossText = child.findObject(\"boss\"); // since the boss TextBlock is named, we can access it by name\r\n            if (bossText === null) return;\r\n            bossText.text = \"\";\r\n          }\r\n        } else if (part instanceof go.Link) {\r\n          var child = part.toNode;\r\n          var bossText = child.findObject(\"boss\"); // since the boss TextBlock is named, we can access it by name\r\n          if (bossText === null) return;\r\n          bossText.text = \"\";\r\n        }\r\n        this.myDiagram.commitTransaction(\"clear boss\");\r\n      });\r\n\r\n      var levelColors = [\"#AC193D\", \"#2672EC\", \"#8C0095\", \"#5133AB\",\r\n        \"#008299\", \"#D24726\", \"#008A00\", \"#094AB2\"];\r\n\r\n      // override TreeLayout.commitNodes to also modify the background brush based on the tree depth level\r\n      this.myDiagram.layout.commitNodes = () => {\r\n        go.TreeLayout.prototype.commitNodes.call(this.myDiagram.layout);  // do the standard behavior\r\n        // then go through all of the vertexes and set their corresponding node's Shape.fill\r\n        // to a brush dependent on the TreeVertex.level value\r\n        this.myDiagram.layout.network.vertexes.each(function(v) {\r\n          if (v.node) {\r\n            var level = v.level % (levelColors.length);\r\n            var color = levelColors[level];\r\n            var shape = v.node.findObject(\"SHAPE\");\r\n            if (shape) shape.stroke = $(go.Brush, \"Linear\", { 0: color, 1: go.Brush.lightenBy(color, 0.05), start: go.Spot.Left, end: go.Spot.Right });\r\n          }\r\n        });\r\n      };\r\n\r\n      // when a node is double-clicked, add a child to it\r\n      var nodeDoubleClick = (e, obj) => {\r\n        //console.log(this, 'dbclick')\r\n        var clicked = obj.part;\r\n        if (clicked !== null) {\r\n          var thisemp = clicked.data;\r\n          this.myDiagram.startTransaction(\"add employee\");\r\n          //新加模块\r\n          var newemp = {\r\n            name: \"(姓名)\",\r\n            title: \"(圈名)\",\r\n            orgName: \"(单位)\",\r\n            level: \"(职位)\",\r\n            relation: \"(关系)\",\r\n            parent: thisemp.key\r\n          };\r\n          this.myDiagram.model.addNodeData(newemp);\r\n          this.myDiagram.commitTransaction(\"add employee\");\r\n        }\r\n      }\r\n\r\n      // this is used to determine feedback during drags\r\n      function mayWorkFor(node1, node2) {\r\n        if (!(node1 instanceof go.Node)) return false;  // must be a Node\r\n        if (node1 === node2) return false;  // cannot work for yourself\r\n        if (node2.isInTreeOf(node1)) return false;  // cannot work for someone who works for you\r\n        return true;\r\n      }\r\n\r\n      // This function provides a common style for most of the TextBlocks.\r\n      // Some of these values may be overridden in a particular TextBlock.\r\n      function textStyle() {\r\n        return { font: \"9pt  Segoe UI,sans-serif\", stroke: \"white\" };\r\n      }\r\n\r\n      // This converter is used by the Picture.\r\n      function findHeadShot(key) {\r\n        if (key < 0 || key > 16) return \"images/HSnopic.jpg\"; // There are only 16 images on the server\r\n        return \"images/HS\" + key + \".jpg\"\r\n      }\r\n\r\n      // define the Node template\r\n      this.myDiagram.nodeTemplate =\r\n        $(go.Node, \"Auto\",\r\n          { doubleClick: nodeDoubleClick },\r\n          { // handle dragging a Node onto a Node to (maybe) change the reporting relationship\r\n            mouseDragEnter: function(e, node, prev) {\r\n              var diagram = node.diagram;\r\n              var selnode = diagram.selection.first();\r\n              if (!mayWorkFor(selnode, node)) return;\r\n              var shape = node.findObject(\"SHAPE\");\r\n              if (shape) {\r\n                shape._prevFill = shape.fill;  // remember the original brush\r\n                shape.fill = \"darkred\";\r\n              }\r\n            },\r\n            mouseDragLeave: function(e, node, next) {\r\n              var shape = node.findObject(\"SHAPE\");\r\n              if (shape && shape._prevFill) {\r\n                shape.fill = shape._prevFill;  // restore the original brush\r\n              }\r\n            },\r\n            mouseDrop: function(e, node) {\r\n              var diagram = node.diagram;\r\n              var selnode = diagram.selection.first();  // assume just one Node in selection\r\n              if (mayWorkFor(selnode, node)) {\r\n                // find any existing link into the selected node\r\n                var link = selnode.findTreeParentLink();\r\n                if (link !== null) {  // reconnect any existing link\r\n                  link.fromNode = node;\r\n                } else {  // else create a new link\r\n                  diagram.toolManager.linkingTool.insertLink(node, node.port, selnode, selnode.port);\r\n                }\r\n              }\r\n            }\r\n          },\r\n          // for sorting, have the Node.text be the data.name\r\n          new go.Binding(\"text\", \"name\"),\r\n          // bind the Part.layerName to control the Node's layer depending on whether it isSelected\r\n          new go.Binding(\"layerName\", \"isSelected\", function(sel) { return sel ? \"Foreground\" : \"\"; }).ofObject(),\r\n          // define the node's outer shape\r\n          $(go.Shape, \"Rectangle\",\r\n            {\r\n              name: \"SHAPE\", fill: \"#333333\", stroke: 'white', strokeWidth: 3.5,\r\n              // set the port properties:\r\n              portId: \"\", fromLinkable: true, toLinkable: true, cursor: \"pointer\"\r\n            }),\r\n          $(go.Panel, \"Horizontal\",\r\n            \r\n            $(go.Panel, \"Table\",\r\n              {\r\n                // minSize: new go.Size(130, NaN),\r\n                // maxSize: new go.Size(150, NaN),\r\n                margin: new go.Margin(10, 10, 10, 10),\r\n                defaultAlignment: go.Spot.Left\r\n              },\r\n              //$(go.RowColumnDefinition, { column: 2, width: 4 }),\r\n\r\n              $(go.TextBlock, textStyle(),  // the name\r\n                {\r\n                  row: 0, column: 0,\r\n                  font: \"12pt Segoe UI,sans-serif\",\r\n                  editable: true, isMultiline: false,\r\n                  margin: new go.Margin(0, 0, 4, 0)\r\n                  // minSize: new go.Size(55, 20),\r\n                  // maxSize: new go.Size(160, 20),\r\n                },\r\n                new go.Binding(\"text\", \"name\").makeTwoWay()),\r\n\r\n              $(go.TextBlock, textStyle(),\r\n                {\r\n                  row: 0, column: 1,\r\n                  editable: true, isMultiline: false,\r\n                  // minSize: new go.Size(60, 20),\r\n                  // maxSize: new go.Size(60, 20),\r\n                  // minSize: new go.Size(10, 14),\r\n                  margin: new go.Margin(0, 0, 0, 10)\r\n                },\r\n                new go.Binding(\"text\", \"title\").makeTwoWay()),\r\n\r\n                // $(go.TextBlock, \"Title000: \", textStyle(),\r\n              //   { row: 1, column: 0 }),\r\n              $(go.TextBlock, textStyle(),\r\n                {\r\n                  row: 1, column: 0,\r\n                  editable: true, isMultiline: false,\r\n                  margin: new go.Margin(4, 0, 10, 0)\r\n                },\r\n                new go.Binding(\"text\", \"orgName\").makeTwoWay()),\r\n\r\n              $(go.TextBlock, textStyle(),\r\n                {\r\n                  row: 1, column: 1,\r\n                  editable: true, isMultiline: false,\r\n                  margin: new go.Margin(4, 0, 10, 10)\r\n                },\r\n                new go.Binding(\"text\", \"level\").makeTwoWay()),\r\n\r\n              $(go.TextBlock, \"关系 : \", textStyle(),\r\n                { row: 2, column: 0 }),\r\n                \r\n              $(go.TextBlock, textStyle(),\r\n                { row: 2, column: 1, editable: true, isMultiline: false },\r\n                new go.Binding(\"text\", \"relation\").makeTwoWay()),\r\n\r\n            )  // end Table Panel\r\n          ) // end Horizontal Panel\r\n        );  // end Node\r\n\r\n      // the context menu allows users to make a position vacant,\r\n      // remove a role and reassign the subtree, or remove a department\r\n      // 鼠标右键的配置\r\n      this.myDiagram.nodeTemplate.contextMenu =\r\n        $(\"ContextMenu\",\r\n          $(\"ContextMenuButton\",\r\n            $(go.TextBlock, \"Vacate Position\"),\r\n            {\r\n              click: (e, obj) => {\r\n                var node = obj.part.adornedPart;\r\n                if (node !== null) {\r\n                  var thisemp = node.data;\r\n                  this.myDiagram.startTransaction(\"vacate\");\r\n                  // update the key, name, and comments\r\n                  this.myDiagram.model.setDataProperty(thisemp, \"name\", \"(姓名)\");\r\n                  this.myDiagram.model.setDataProperty(thisemp, \"title\", \"(圈名)\");\r\n                  this.myDiagram.model.setDataProperty(thisemp, \"orgName\", \"(单位)\");\r\n                  this.myDiagram.model.setDataProperty(thisemp, \"level\", \"(职位)\");\r\n                  this.myDiagram.model.setDataProperty(thisemp, \"relation\", \"(关系)\");\r\n                  this.myDiagram.commitTransaction(\"vacate\");\r\n                }\r\n              }\r\n            }\r\n          ),\r\n\r\n          $(\"ContextMenuButton\",\r\n            $(go.TextBlock, \"Remove Role\"),\r\n            {\r\n              click: (e, obj) => {\r\n                // reparent the subtree to this node's boss, then remove the node\r\n                var node = obj.part.adornedPart;\r\n                if (node !== null) {\r\n                  this.myDiagram.startTransaction(\"reparent remove\");\r\n                  var chl = node.findTreeChildrenNodes();\r\n                  // iterate through the children and set their parent key to our selected node's parent key\r\n                  while (chl.next()) {\r\n                    var emp = chl.value;\r\n                    this.myDiagram.model.setParentKeyForNodeData(emp.data, node.findTreeParentNode().data.key);\r\n                  }\r\n                  // and now remove the selected node itself\r\n                  this.myDiagram.model.removeNodeData(node.data);\r\n                  this.myDiagram.commitTransaction(\"reparent remove\");\r\n                }\r\n              }\r\n            }\r\n          ),\r\n          $(\"ContextMenuButton\",\r\n            $(go.TextBlock, \"Remove Department\"),\r\n            {\r\n              click: (e, obj) => {\r\n                // remove the whole subtree, including the node itself\r\n                var node = obj.part.adornedPart;\r\n                if (node !== null) {\r\n                  this.myDiagram.startTransaction(\"remove dept\");\r\n                  this.myDiagram.removeParts(node.findTreeParts());\r\n                  this.myDiagram.commitTransaction(\"remove dept\");\r\n                }\r\n              }\r\n            }\r\n          )\r\n        );\r\n\r\n      // define the Link template\r\n      this.myDiagram.linkTemplate =\r\n        $(go.Link, go.Link.Orthogonal,\r\n          { corner: 5, relinkableFrom: true, relinkableTo: true },\r\n          $(go.Shape, { strokeWidth: 1.5, stroke: \"#F5F5F5\" }));  // the link shape\r\n\r\n      // read in the JSON-format data from the \"mySavedModel\" element\r\n      this.loadGo();\r\n\r\n\r\n      // support editing the properties of the selected person in HTML\r\n      if (window.Inspector) myInspector = new Inspector(\"myInspector\", this.myDiagram,\r\n        {\r\n          properties: {\r\n            \"key\": { readOnly: true },\r\n            \"comments\": {}\r\n          }\r\n        });\r\n\r\n    }, // end init\r\n\r\n    // Show the diagram's model in JSON format\r\n    save() {\r\n      document.getElementById(\"mySavedModel\").value = this.myDiagram.model.toJson();\r\n      this.myDiagram.isModified = false;\r\n    },\r\n\r\n    loadGo() {\r\n      this.myDiagram.model = go.Model.fromJson(document.getElementById(\"mySavedModel\").value);\r\n      // make sure new data keys are unique positive integers\r\n      var lastkey = 1;\r\n      this.myDiagram.model.makeUniqueKeyFunction = (model, data) => {\r\n        var k = data.key || lastkey;\r\n        while (model.findNodeDataForKey(k)) k++;\r\n        data.key = lastkey = k;\r\n        return k;\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/person/personCount/modulePage/friendCount/friendCount.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"sample\"}},[_c('div',{staticStyle:{\"background-color\":\"#34343C\",\"border\":\"solid 1px black\",\"height\":\"570px\"},attrs:{\"id\":\"myDiagramDiv\"}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',[_c('div',[_c('button',{attrs:{\"id\":\"SaveButton\"},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"Save\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.loadGo()}}},[_vm._v(\"Load\")])]),_vm._v(\" \"),_c('textarea',{staticStyle:{\"width\":\"100%\",\"height\":\"270px\"},attrs:{\"id\":\"mySavedModel\"}},[_vm._v(\"      { \\n        \\\"class\\\": \\\"go.TreeModel\\\",\\n        \\\"nodeDataArray\\\": [\\n          {\\\"key\\\":1, \\\"name\\\":\\\"庆帝\\\", \\\"title\\\":\\\"主题圈\\\", \\\"orgName\\\":\\\"庆国\\\", \\\"level\\\":\\\"皇帝\\\", \\\"relation\\\": \\\"庆国一哥\\\"},\\n          {\\\"key\\\":2, \\\"name\\\":\\\"范闲\\\", \\\"title\\\":\\\"朋友圈\\\", \\\"parent\\\":1, \\\"orgName\\\":\\\"检察院\\\", \\\"level\\\":\\\"提司\\\", \\\"relation\\\": \\\"儿子\\\"},\\n          {\\\"key\\\":3, \\\"name\\\":\\\"范思哲\\\", \\\"title\\\":\\\"亲戚圈\\\", \\\"parent\\\":2, \\\"orgName\\\":\\\"林家大院\\\", \\\"level\\\":\\\"搞笑担当\\\", \\\"relation\\\": \\\"傻弟弟\\\"},\\n          {\\\"key\\\":4, \\\"name\\\":\\\"范若若\\\", \\\"title\\\":\\\"朋友圈\\\", \\\"parent\\\":1, \\\"orgName\\\":\\\"林家大院\\\", \\\"level\\\":\\\"颜值担当\\\", \\\"relation\\\": \\\"妹妹\\\"},\\n          {\\\"key\\\":5, \\\"name\\\":\\\"腾子荆\\\", \\\"title\\\":\\\"朋友圈\\\", \\\"parent\\\":4, \\\"orgName\\\":\\\"检察院\\\", \\\"level\\\":\\\"护卫\\\", \\\"relation\\\": \\\"同事\\\"},\\n          {\\\"key\\\":6, \\\"name\\\":\\\"林宛儿\\\", \\\"title\\\":\\\"同事圈\\\", \\\"parent\\\":2, \\\"orgName\\\":\\\"丞相府\\\", \\\"level\\\":\\\"大小姐\\\", \\\"relation\\\": \\\"妻子\\\"}\\n        ]\\n      }\\n    \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"myInspector\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c642ee8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/person/personCount/modulePage/friendCount/friendCount.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c642ee8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./friendCount.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./friendCount.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./friendCount.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c642ee8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./friendCount.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/person/personCount/modulePage/friendCount/friendCount.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}